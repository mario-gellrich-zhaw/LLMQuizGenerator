import{s as P,c as d,a as ie,o as te,w as R,b as ae,C as ce,u as Y,d as de,e as ve,p as me,m as fe,f as ge,g as he,h as ye,i as we,j as pe,k as be,l as Se,t as Q,n as _e,q as ke,r as Ve,v as Ee,x as xe,y as Ce,z as Te,A as i,B as Z,T as Be,F as Me,D as Pe,E as oe,G as Ie,H,I as $,J as x,K as De,L as O,M as ze,N as Re,V as He,O as Le,P as Ne}from"./index-DvVwanpW.js";import{u as Ye}from"./runQuizStore-CJr5rMcV.js";import{u as $e}from"./useClassesStore-DMPTQgFt.js";import{u as Oe}from"./useQuestionsStore-DWw0QyT1.js";import{u as We}from"./useQuizzesStore-BxJngteQ.js";import{_ as ne}from"./index-zQZX9iOl.js";import{V as j,a as E,b as G}from"./VList-CUrwvTTO.js";import{m as qe,a as Xe,b as Ae,u as Ue,c as J,d as Fe,e as Qe,f as Ze,t as je,V as Ge,g as Je,h as Ke}from"./VGrid-4eGltkY4.js";import{m as et,u as tt,a as at}from"./scopeId-CTvkiOhj.js";import{V as ot}from"./VContainer-DawPD6Ky.js";function nt(e){let{rootEl:l,isSticky:s,layoutItemStyles:v}=e;const t=P(!1),r=P(0),a=d(()=>{const S=typeof t.value=="boolean"?"top":t.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[S]:ie(r.value)}:{top:v.value.top}]});te(()=>{R(s,S=>{S?window.addEventListener("scroll",V,{passive:!0}):window.removeEventListener("scroll",V)},{immediate:!0})}),ae(()=>{window.removeEventListener("scroll",V)});let f=0;function V(){const S=f>window.scrollY?"up":"down",g=l.value.getBoundingClientRect(),h=parseFloat(v.value.top??0),m=window.scrollY-Math.max(0,r.value-h),w=g.height+Math.max(r.value,h)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;g.height<window.innerHeight-h?(t.value="top",r.value=h):S==="up"&&t.value==="bottom"||S==="down"&&t.value==="top"?(r.value=window.scrollY+g.top-b,t.value=!0):S==="down"&&w<=0?(r.value=0,t.value="bottom"):S==="up"&&m<=0&&(b?t.value!=="top"&&(r.value=-m+b+h,t.value="top"):(r.value=g.top+m,t.value="top")),f=window.scrollY}return{isStuck:t,stickyStyles:a}}const lt=100,st=20;function K(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ee(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const v=K(l),t=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);l+=(t-v)*Math.abs(t),s===e.length-1&&(l*=.5)}return K(l)*1e3}function rt(){const e={};function l(t){Array.from(t.changedTouches).forEach(r=>{(e[r.identifier]??(e[r.identifier]=new ce(st))).push([t.timeStamp,r])})}function s(t){Array.from(t.changedTouches).forEach(r=>{delete e[r.identifier]})}function v(t){var S;const r=(S=e[t])==null?void 0:S.values().reverse();if(!r)throw new Error(`No samples for touch id ${t}`);const a=r[0],f=[],V=[];for(const g of r){if(a[0]-g[0]>lt)break;f.push({t:g[0],d:g[1].clientX}),V.push({t:g[0],d:g[1].clientY})}return{x:ee(f),y:ee(V),get direction(){const{x:g,y:h}=this,[m,w]=[Math.abs(g),Math.abs(h)];return m>w&&g>=0?"right":m>w&&g<=0?"left":w>m&&h>=0?"down":w>m&&h<=0?"up":ut()}}}return{addMovement:l,endTouch:s,getVelocity:v}}function ut(){throw new Error}function it(e){let{el:l,isActive:s,isTemporary:v,width:t,touchless:r,position:a}=e;te(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",C,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),ae(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",L)});const f=d(()=>["left","right"].includes(a.value)),{addMovement:V,endTouch:S,getVelocity:g}=rt();let h=!1;const m=P(!1),w=P(0),b=P(0);let k;function I(o,n){return(a.value==="left"?o:a.value==="right"?document.documentElement.clientWidth-o:a.value==="top"?o:a.value==="bottom"?document.documentElement.clientHeight-o:M())-(n?t.value:0)}function D(o){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const u=a.value==="left"?(o-b.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-o-b.value)/t.value:a.value==="top"?(o-b.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-o-b.value)/t.value:M();return n?Math.max(0,Math.min(1,u)):u}function T(o){if(r.value)return;const n=o.changedTouches[0].clientX,u=o.changedTouches[0].clientY,c=25,p=a.value==="left"?n<c:a.value==="right"?n>document.documentElement.clientWidth-c:a.value==="top"?u<c:a.value==="bottom"?u>document.documentElement.clientHeight-c:M(),y=s.value&&(a.value==="left"?n<t.value:a.value==="right"?n>document.documentElement.clientWidth-t.value:a.value==="top"?u<t.value:a.value==="bottom"?u>document.documentElement.clientHeight-t.value:M());(p||y||s.value&&v.value)&&(k=[n,u],b.value=I(f.value?n:u,s.value),w.value=D(f.value?n:u),h=b.value>-20&&b.value<80,S(o),V(o))}function C(o){const n=o.changedTouches[0].clientX,u=o.changedTouches[0].clientY;if(h){if(!o.cancelable){h=!1;return}const p=Math.abs(n-k[0]),y=Math.abs(u-k[1]);(f.value?p>y&&p>3:y>p&&y>3)?(m.value=!0,h=!1):(f.value?y:p)>3&&(h=!1)}if(!m.value)return;o.preventDefault(),V(o);const c=D(f.value?n:u,!1);w.value=Math.max(0,Math.min(1,c)),c>1?b.value=I(f.value?n:u,!0):c<0&&(b.value=I(f.value?n:u,!1))}function L(o){if(h=!1,!m.value)return;V(o),m.value=!1;const n=g(o.changedTouches[0].identifier),u=Math.abs(n.x),c=Math.abs(n.y);(f.value?u>c&&u>400:c>u&&c>3)?s.value=n.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||M()):s.value=w.value>.5}const z=d(()=>m.value?{transform:a.value==="left"?`translateX(calc(-100% + ${w.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${w.value*t.value}px))`:a.value==="top"?`translateY(calc(-100% + ${w.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${w.value*t.value}px))`:M(),transition:"none"}:void 0);return Y(m,()=>{var u,c;const o=((u=l.value)==null?void 0:u.style.transform)??null,n=((c=l.value)==null?void 0:c.style.transition)??null;de(()=>{var p,y,B,N;(y=l.value)==null||y.style.setProperty("transform",((p=z.value)==null?void 0:p.transform)||"none"),(N=l.value)==null||N.style.setProperty("transition",((B=z.value)==null?void 0:B.transition)||null)}),ve(()=>{var p,y;(p=l.value)==null||p.style.setProperty("transform",o),(y=l.value)==null||y.style.setProperty("transition",n)})}),{isDragging:m,dragProgress:w,dragStyles:z}}function M(){throw new Error}const ct=["start","end","left","right","top","bottom"],dt=me({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ct.includes(e)},sticky:Boolean,...qe(),...fe(),...et(),...ge({mobile:null}),...Xe(),...he(),...Ae(),...ye({tag:"nav"}),...we()},"VNavigationDrawer"),vt=pe()({name:"VNavigationDrawer",props:dt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:s,emit:v,slots:t}=l;const{isRtl:r}=be(),{themeClasses:a}=Se(e),{borderClasses:f}=Ue(e),{backgroundColorClasses:V,backgroundColorStyles:S}=J(Q(e,"color")),{elevationClasses:g}=Fe(e),{displayClasses:h,mobile:m}=_e(e),{roundedClasses:w}=Qe(e),b=Ze(),k=ke(e,"modelValue",null,_=>!!_),{ssrBootStyles:I}=Ve(),{scopeId:D}=tt(),T=Ee(),C=P(!1),{runOpenDelay:L,runCloseDelay:z}=at(e,_=>{C.value=_}),o=d(()=>e.rail&&e.expandOnHover&&C.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),n=d(()=>je(e.location,r.value)),u=d(()=>e.persistent),c=d(()=>!e.permanent&&(m.value||e.temporary)),p=d(()=>e.sticky&&!c.value&&n.value!=="bottom");Y(()=>e.expandOnHover&&e.rail!=null,()=>{R(C,_=>v("update:rail",!_))}),Y(()=>!e.disableResizeWatcher,()=>{R(c,_=>!e.permanent&&Pe(()=>k.value=!_))}),Y(()=>!e.disableRouteWatcher&&!!b,()=>{R(b.currentRoute,()=>c.value&&(k.value=!1))}),R(()=>e.permanent,_=>{_&&(k.value=!0)}),e.modelValue==null&&!c.value&&(k.value=e.permanent||!m.value);const{isDragging:y,dragProgress:B}=it({el:T,isActive:k,isTemporary:c,width:o,touchless:Q(e,"touchless"),position:n}),N=d(()=>{const _=c.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):o.value;return y.value?_*B.value:_}),le=d(()=>["top","bottom"].includes(e.location)?0:o.value),{layoutItemStyles:W,layoutItemScrimStyles:se}=xe({id:e.name,order:d(()=>parseInt(e.order,10)),position:n,layoutSize:N,elementSize:le,active:d(()=>k.value||y.value),disableTransitions:d(()=>y.value),absolute:d(()=>e.absolute||p.value&&typeof q.value!="string")}),{isStuck:q,stickyStyles:re}=nt({rootEl:T,isSticky:p,layoutItemStyles:W}),X=J(d(()=>typeof e.scrim=="string"?e.scrim:null)),ue=d(()=>({...y.value?{opacity:B.value*.2,transition:"none"}:void 0,...se.value}));return Ce({VList:{bgColor:"transparent"}}),Te(()=>{const _=t.image||e.image;return i(Me,null,[i(e.tag,Z({ref:T,onMouseenter:L,onMouseleave:z,class:["v-navigation-drawer",`v-navigation-drawer--${n.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":C.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":c.value,"v-navigation-drawer--persistent":u.value,"v-navigation-drawer--active":k.value,"v-navigation-drawer--sticky":p.value},a.value,V.value,f.value,h.value,g.value,w.value,e.class],style:[S.value,W.value,I.value,re.value,e.style,["top","bottom"].includes(n.value)?{height:"auto"}:{}]},D,s),{default:()=>{var A,U,F;return[_&&i("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?i(Je,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):i(Ge,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&i("div",{class:"v-navigation-drawer__prepend"},[(A=t.prepend)==null?void 0:A.call(t)]),i("div",{class:"v-navigation-drawer__content"},[(U=t.default)==null?void 0:U.call(t)]),t.append&&i("div",{class:"v-navigation-drawer__append"},[(F=t.append)==null?void 0:F.call(t)])]}}),i(Be,{name:"fade-transition"},{default:()=>[c.value&&(y.value||k.value)&&!!e.scrim&&i("div",Z({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[ue.value,X.backgroundColorStyles.value],onClick:()=>{u.value||(k.value=!1)}},D),null)]})])}),{isStuck:q}}}),mt=Ye(),ft=$e(),gt=Oe(),ht=We(),yt={setup(){const e=oe(),l=Ie(),s=d(()=>e.isLoggedIn()),v=d(()=>e.getUser().role),t=d(()=>e.getUser());return{loggedIn:s,logout:()=>{mt.reset(),ft.reset(),gt.reset(),ht.reset(),e.clearUser(),l.push({path:"/login"})},role:v,user:t}}},wt={key:0};function pt(e,l,s,v,t,r){return H(),$(vt,null,{default:x(()=>[i(j,null,{default:x(()=>[i(E,null,{default:x(()=>[v.loggedIn?(H(),$(Ke,{key:0,"prepend-icon":"mdi-logout",variant:"outlined",color:"red-lighten-3",block:"",onClick:v.logout},{default:x(()=>l[0]||(l[0]=[De(" Logout ")])),_:1},8,["onClick"])):O("",!0)]),_:1}),i(G),i(j,{density:"compact",nav:""},{default:x(()=>[v.role===1?(H(),ze("span",wt,[i(E,{"prepend-icon":"mdi-home",title:"Home",value:"Home",to:"/"}),i(E,{"prepend-icon":"mdi-menu",title:"Quizzes",value:"quizzes",to:"/quizzes"}),i(E,{"prepend-icon":"mdi-account-multiple",title:"Classes",value:"classes",to:"/classes"}),i(E,{"prepend-icon":"mdi-view-dashboard",title:"Dashboard",value:"dashboard",to:"/dashboard"}),i(E,{"prepend-icon":"mdi-lock",title:"Admin",value:"admin",to:"/admin"})])):O("",!0),i(E,{"prepend-icon":"mdi-play",title:"Run",value:"run",to:"/run"}),i(G),i(E,{"prepend-icon":"mdi-account",title:v.user.username,"base-color":"secondary"},null,8,["title"])]),_:1})]),_:1})]),_:1})}const bt=ne(yt,[["render",pt]]),St={setup(){const e=oe();return{loggedIn:d(()=>e.isLoggedIn())}}},_t={class:"w-100 ma-10"};function kt(e,l,s,v,t,r){const a=bt,f=Re("router-view");return H(),$(He,null,{default:x(()=>[i(ot,{fluid:""},{default:x(()=>[v.loggedIn?(H(),$(a,{key:0})):O("",!0),i(Le,{class:"d-flex justify-center align-center"},{default:x(()=>[Ne("div",_t,[i(f)])]),_:1})]),_:1})]),_:1})}const zt=ne(St,[["render",kt]]);export{zt as default};
